<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="A year long project implementing an AI for a capture the flag based game"><title>AI, Multi-Threading and Networking Bot Game</title><link rel=canonical href=https://jbriggs.dev/p/2018-01-ai/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="AI, Multi-Threading and Networking Bot Game"><meta property='og:description' content="A year long project implementing an AI for a capture the flag based game"><meta property='og:url' content='https://jbriggs.dev/p/2018-01-ai/'><meta property='og:site_name' content='JBriggs.DEV'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='C++'><meta property='article:tag' content='Game Development'><meta property='article:tag' content='Past Work'><meta property='article:tag' content='University'><meta property='article:published_time' content='2018-01-19T00:00:00+00:00'><meta property='article:modified_time' content='2018-01-19T00:00:00+00:00'><meta property='og:image' content='https://jbriggs.dev/p/2018-01-ai/ai-project-1.jpg'><meta name=twitter:title content="AI, Multi-Threading and Networking Bot Game"><meta name=twitter:description content="A year long project implementing an AI for a capture the flag based game"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://jbriggs.dev/p/2018-01-ai/ai-project-1.jpg'><link rel="shortcut icon" href=/favicon.png><meta name=fediverse:creator content="@JBriggs_DEV@mastodon.social"><link rel=me href=https://mastodon.social/@JBriggs_DEV><link rel=stylesheet href=https://jbriggs.dev/css/extra.css></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/me_hu_ccdeac91de0b4bb.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>☕️</span></figure><div class=site-meta><h1 class=site-name><a href=/>JBriggs.DEV</a></h1><h2 class=site-description>Jamie Briggs - Senior Consultant & Software Developer @ Opencast Software</h2></div></header><ol class=menu-social><li><a href=https://github.com/JamieBriggsDev target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jbriggs-dev/ target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4z"/></svg></a></li><li><a href=https://mastodon.social/@JBriggs_DEV target=_blank title=Mastodon rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-mastodon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18.648 15.254C16.832 17.017 12 16.88 12 16.88a18.262 18.262.0 01-3.288-.256c1.127 1.985 4.12 2.81 8.982 2.475-1.945 2.013-13.598 5.257-13.668-7.636L4 10.309c0-3.036.023-4.115 1.352-5.633C7.023 2.766 12 3.01 12 3.01s4.977-.243 6.648 1.667C19.977 6.195 20 7.274 20 10.31s-.456 4.074-1.352 4.944z"/><path d="M12 11.204V8.278C12 7.02 11.105 6 10 6S8 7.02 8 8.278V13m4-4.722C12 7.02 12.895 6 14 6s2 1.02 2 2.278V13"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about-me/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 7a4 4 0 108 0A4 4 0 008 7"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About Me</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/2018-01-ai/><img src=/p/2018-01-ai/ai-project-1_hu_4625329eef722e09.jpg srcset="/p/2018-01-ai/ai-project-1_hu_4625329eef722e09.jpg 800w, /p/2018-01-ai/ai-project-1_hu_39760e1e34ddb9f7.jpg 1600w" width=800 height=450 loading=lazy alt="Featured image of post AI, Multi-Threading and Networking Bot Game"></a></div><div class=article-details><header class=article-category><a href=/categories/computer-games-programming-bsc/ style=background-color:#b6c2a1;color:#fff>Computer Games Programming (BSc)</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/2018-01-ai/>AI, Multi-Threading and Networking Bot Game</a></h2><h3 class=article-subtitle>A year long project implementing an AI for a capture the flag based game</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>19 January 2018</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><p>For an assignment during my degree in Computer Games Programming, I was
tasked with making a game in which I had to write the AI for a team of
bots to beat another team of bots with badly written AI. This was all
done in C++ and within a 2D game engine created by the module tutor Chris Rook.</p><p>The game was essentially a 5 v 5 between two teams fighting over
domination points. There is no end to the game, just two scores
which explain which team had the better AI. Everything was already
created before starting the AI such as the map, where the domination
points were, the teams and the various rules which needed to be
followed. All there was left to do was write a AI which could beat
the enemies teams pre-made AI.</p><p>The AI was split into two different sections; the generation of a
navmesh in which the bots could use the navmesh to work out how to
get from point A to point B, and then the making of the bots core
AI which told the bot when to find a domination point, when to retreat
and get ammo, and when to attack.</p><p>To start with, since the map was pre-made by Chris, all there was
to do was to generate a navmesh. The navmesh was made by passing a
rectangle into a function which partitions the rectangle into 4
smaller rectangles if the original rectangle is overlapping an
obstacle. If the rectangle either doesn’t overlap and obstacle
or gets too small, a node is placed and saved into a list of nodes.</p><p><img src=/p/2018-01-ai/ai-project-2.png width=402 height=241 srcset="/p/2018-01-ai/ai-project-2_hu_ee794f03e969c0a1.png 480w, /p/2018-01-ai/ai-project-2_hu_3c1de383594cb2b8.png 1024w" loading=lazy alt="Graphic showcasing how the navmesh was created." class=gallery-image data-flex-grow=166 data-flex-basis=400px></p><p>Then once all the nodes are placed, edges are created between nodes
which can see each other in which paths are made which can reach
each other. By doing this, a network of paths is then created and
the bots finally have a navmesh which can be traversed. This navmesh
can then be used within the A* path-finding algorithm later.</p><p>The second part of the bots AI was then started once the map had
been made, and that began with behaviours. These behaviours were
actions which the bots could do; seek, flee, arrive, evade, pursue,
path find and wall evade. The first five were more advanced and were
turned on in specific moments during the path find behaviour
(when following points in a path, the bot would seek the next node,
when arriving at the last point in a path, it would use the
arrive behaviour). The wall avoid behaviour was essentially
turned on at all times to make sure a bot would not get stuck
on a wall.</p><p><img src=/p/2018-01-ai/ai-project-3.jpg width=1140 height=641 srcset="/p/2018-01-ai/ai-project-3_hu_2fa3e04981f08c51.jpg 480w, /p/2018-01-ai/ai-project-3_hu_cebd80c0a7816f32.jpg 1024w" loading=lazy alt="Bots drawing a line towards the next node they are walking to." class=gallery-image data-flex-grow=177 data-flex-basis=426px>
<img src=/p/2018-01-ai/ai-project-4.jpg width=1140 height=641 srcset="/p/2018-01-ai/ai-project-4_hu_b4796b7a001d4f3d.jpg 480w, /p/2018-01-ai/ai-project-4_hu_c4ec7b3673b845b0.jpg 1024w" loading=lazy alt="Debug information showing bot position, and they’re current state." class=gallery-image data-flex-grow=177 data-flex-basis=426px></p><p>The most advanced behaviour of these would be the path finding
behaviour, in which a path is followed using the seek and
arrive behaviours. However for this to work, a path must be
found first. Using the navmesh which was made before, an A*
algorithm is used to find the shortest path from A to B given
two coordinates.</p><p>After this, a function was made which combined all of the different
behaviours to make one acceleration vector which the bot used given
whichever behaviour is being used at that current time. An easy
explanation of this would be that the bot is heading towards a goal,
but a wall is in the way. So the acceleration of the seek is added
to the acceleration of the wall avoid. In doing so, the bot would
still head towards the goal, even if the bot had to slightly turn
away from a wall to avoid hitting it.</p><p>Next to make use of these behaviours, different states was made.
A state within the program would in the end give a bot a specific
task. In this case, three states was made; capture in which a
bot will go and find a domination point and capture it, attack
in which an enemy is close and the bot will fight the enemy, and
reload in which a bot will go find a reload point and restock
on ammo. With this done, the bots were complete and could win
in a game. However, more could be done to improve the program.</p><p>Multi-Threading is the idea that a task within a program or application
would run a process off the main thread the program runs on an multitasks
calculations. This is massively useful in terms of making sure a program
is still responsive whilst working out a huge problem or loading a big
file (no one wants a program which freezes and becomes unresponsive for
a few seconds as it is unprofessional).</p><p>This was implemented into the program after finding out that the
program would stutter whenever a bot needed to do some path finding.
With the A* algorithm looping through hundreds of nodes within the
game, it can take a lot of processing power and freeze the game
slightly. This was proven by recording the update times, and the
first update in the game finding 5 different paths in one update
cycle (due to having 5 bots per team) was found to be quite large
compared to an average frame. Therefore, it was made so whenever a
path was to be worked out with the A* algorithm, it would be done
on a separate thread and the bot would wait until the path was then
found. This fixed any stutters within the program, and especially
within the start of the game. The first frame then returned back
to an average frame time and any stutters were completely eliminated.
Adding more bots to each team even showed that it had fixed the
problem as even with 100 bots finding a path, no pauses or stutters
was shown as it were previously even with just 5 bots.</p><p>The other improvement made within the game was the use of networking.
Despite the game only being two teams of bots and not two human players,
it was still done. The game was made so that one computer running the
game could act as the host, and another computer running the game
could act as the client and connect to the host. The host would
then send over all the bots position data, ammo and when the bot
was shooting so then everything which happened on the host computer would
occur on the client computer. This was all done through bit packing showed
how a client on any game could spectate another game with just basic
information.</p><p>After the two improvements was done, the game was then finished complete
with a working AI which used A* path finding and states, multi-threading
and networking. As a year-long project, a lot was learnt in undertaking
this project including how A*, multi threading and networking all work.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/c++/>C++</a>
<a href=/tags/game-development/>Game Development</a>
<a href=/tags/past-work/>Past Work</a>
<a href=/tags/university/>University</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class="article-list--compact links"><article><a href=https://github.com/JamieBriggsDev/Bot-AI target=_blank rel=noopener><div class=article-details><h2 class=article-title>AI Bot Game Repository</h2><footer class=article-time>You can find the source code for this project on my GitHub.</footer></div><div class=article-image><img src=https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png loading=lazy></div></a></article></div><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/2017-07-lyat-wars/><div class=article-image><img src=/p/2017-07-lyat-wars/lyat-wars-ps4.992f62365a844c50e5789065de34cc4e_hu_be2890585db8c6fa.png width=250 height=150 loading=lazy alt="Featured image of post Star Fox PS4 remake" data-key=2017-07-lyat-wars data-hash="md5-mS9iNlqETFDleJBl3jTMTg=="></div><div class=article-details><h2 class=article-title>Star Fox PS4 remake</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 JBriggs.DEV</section><section class=powerby>Jamie Briggs<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>